{"version":3,"file":"_page.svelte.js","sources":["../../../../../../node_modules/@edwinspire/libopenfusionapigui/dist/OpenFusionAPI/img/favicon.png","../../../../../../node_modules/@edwinspire/svelte-components/dist/Modal/Modal.svelte","../../../../../../node_modules/@edwinspire/svelte-components/dist/class/utils.js","../../../../../../node_modules/@edwinspire/svelte-components/dist/Notifications/index.svelte","../../../../../../node_modules/@edwinspire/libopenfusionapigui/dist/OpenFusionAPI/login/index.svelte","../../../../../../node_modules/@edwinspire/libopenfusionapigui/dist/OpenFusionAPI/index.svelte","../../../../../../src/routes/openfusionapi/+page.svelte"],"sourcesContent":["export default \"data:image/png;base64,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\"","<script>\n\tlet { show = $bindable(false), children, showCloseButton = $bindable(false) } = $props();\n</script>\n\n<div class=\"modal\" class:is-active={show}>\n\t<div class=\"modal-background\"></div>\n\n\t<div class=\"modal-content\">\n\t\t{@render children?.()}\n\t</div>\n\n\t{#if showCloseButton}\n\t\t<button\n\t\t\tclass=\"modal-close is-large\"\n\t\t\taria-label=\"close\"\n\t\t\tonclick={() => {\n\t\t\t\tshow = false;\n\t\t\t}}\n\t\t></button>\n\t{/if}\n</div>\n","import { writable } from 'svelte/store';\n\nexport let notifications_store = writable([]);\n\nexport const equalObjs = (value, new_value) => {\n\tlet new_value_str = typeof new_value == 'object' ? JSON.stringify(new_value) : new_value;\n\tlet currect_value_str = typeof value == 'object' ? JSON.stringify(value) : value;\n\tconsole.log(value, new_value, new_value_str, currect_value_str);\n\treturn new_value_str == currect_value_str;\n};\n\nexport class Notifications {\n\tconstructor() {\n\t\t/*\n\t\tnotifications_store.subscribe((value) => {\n\t\t\tconsole.log('notifications_store: ', value);\n\t\t}); \n\t\t*/\n\t}\n\n\tpush(new_notify) {\n\t\t//\tconsole.log(notifications_store);\n\t\tnew_notify.id = `${Date.now()}-${Math.floor(Math.random() * 1000)}`;\n\n\t\t//notifications_store.set(['Hola mundo']);\n\t\tnotifications_store.update((u) => {\n\t\t\t//\t\t\tconsole.log('>>', u.length);\n\t\t\tu.push(new_notify);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.removeNotify(new_notify.id);\n\t\t\t}, new_notify.timeout || 5000);\n\t\t\treturn u;\n\t\t});\n\t}\n\n\tremoveNotify(id) {\n\t\tnotifications_store.update((u) => {\n\t\t\tconst index = u.findIndex((obj) => obj.id === id);\n\t\t\tif (index !== -1) {\n\t\t\t\tu.splice(index, 1);\n\t\t\t\t//\tconsole.log(`Objeto con ID ${id} eliminado. Lista actualizada:`, u);\n\t\t\t}\n\t\t\treturn u;\n\t\t});\n\t}\n}\n","<script>\n\timport { notifications_store } from '../class/utils.js';\n\n\t//\tlet Notif = new Notifications();\n\tlet list_notify = [];\n\n\tnotifications_store.subscribe((value) => {\n\t\t//console.log('notifications_store: ', value);\n\t\tlist_notify = value;\n\t});\n\n\t/*\n\tsetTimeout(() => {\n\t\tNotif.push({ message: 'Prueba notify' });\n\t}, 5000);\n\n\tsetTimeout(() => {\n\t\tNotif.push({\n\t\t\tcolor: 'danger',\n\t\t\tmessage:\n\t\t\t\t'Prueba notify 2 dgjjfhsdgffhsfgsjdfgjsgfsh fsfdsf  dfsfdsf dsf  we r er e rwe rewr ',\n\t\t\ttitle: 'Guardado...'\n\t\t});\n\t}, 3000);\n    */\n</script>\n\n<div class=\" bottom-right\">\n\t{#each list_notify as s}\n\t\t{#if !s.hidden}\n\t\t\t<article class=\"message is-small is-{s.color}\">\n\t\t\t\t{#if s.title}\n\t\t\t\t\t<div class=\"message-header\">\n\t\t\t\t\t\t<p>{s.title}</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"delete is-small\"\n\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\ts.hidden = true;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t\t<div class=\"message-body\">{s.message}</div>\n\t\t\t</article>\n\t\t{/if}\n\t{/each}\n</div>\n\n<style>\n\t.bottom-right {\n\t\tmax-width: 30%;\n\t\tposition: fixed;\n\t\tright: 1rem; /* Margen derecho */\n\t\tbottom: 1rem; /* Margen inferior */\n\t\tz-index: 1000; /* Asegura que est√© sobre otros elementos */\n\t}\n</style>\n","<script>\n\timport uFetch from '@edwinspire/universal-fetch';\n\timport { onMount } from 'svelte';\n\timport { userStore, getListMethods, getListHandler, url_paths } from '../utils.js';\n\timport logo from '../img/favicon.png';\n\timport { Notifications, Modal} from \"@edwinspire/svelte-components\";\n\nlet noty = new Notifications();\n\tlet { onlogin = () => {} } = $props();\n\tlet username = $state('');\n\tlet password = $state('');\n\tlet uf = new uFetch();\n\tlet processing = $state({ waiting: false, error: null });\n\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\tprocessing.waiting = true;\n\t\t\tprocessing.error = '';\n\n\t\t\tlet user = await uf.POST({ url: url_paths.login, data: { username, password } });\n\t\t\tlet data = await user.json();\n\n\t\t\tif (data.login) {\n\t\t\t\tuserStore.set(data);\n\n\t\t\t\tawait getListMethods(data.token);\n\t\t\t\tawait getListHandler(data.token);\n\n\t\t\t\tonlogin({\n\t\t\t\t\tlogin: data.login\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//\talert('Invalid credentials');\n\t\t\t\tprocessing.error = 'Invalid credentials';\n\t\t\t\tprocessing.waiting = false;\n\t\t\t\tnoty.push({message: processing.error, color: 'danger'});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.trace(error);\n\t\t\tnoty.push({message: error.message, color: 'danger'});\n\t\t\tprocessing.waiting = false;\n\t\t\tprocessing.error = error.message;\n\t\t}\n\t}\n\n\tonMount(() => {});\n</script>\n\n\n<Modal show={true}>\n\t<div class=\"box\">\n\t\t<!-- Any other Bulma elements you want -->\n\n\t\t<div class=\"media t1\">\n\t\t\t<div class=\"media-left\">\n\t\t\t\t<figure class=\"image is-48x48\">\n\t\t\t\t\t<img src={logo} alt=\"OpenFusionAPI\" />\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t\t<div class=\"media-content\">\n\t\t\t\t<p class=\"title is-family-sans-serif\">Open Fusion API</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"field\">\n\t\t\t<p class=\"control has-icons-left has-icons-right\">\n\t\t\t\t<input class=\"input\" type=\"text\" placeholder=\"Username\" bind:value={username} />\n\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t<i class=\"fa-solid fa-user\"></i>\n\t\t\t\t</span>\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"field\">\n\t\t\t<p class=\"control has-icons-left\">\n\t\t\t\t<input class=\"input\" type=\"password\" placeholder=\"Password\" bind:value={password} />\n\t\t\t\t<span class=\"icon is-small is-left\">\n\t\t\t\t\t<i class=\"fas fa-lock\"></i>\n\t\t\t\t</span>\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"field\">\n\t\t\t<p class=\"control\">\n\t\t\t\t{#if processing.waiting}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"button is-success is-loading\"\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\thandleSubmit();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</button>\n\t\t\t\t{:else}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"button is-success\"\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\thandleSubmit();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</p>\n\t\t</div>\n\t\t{#if !processing.waiting && processing.error}\n\t\t\t<div class=\"icon-text\">\n\t\t\t\t<span class=\"icon has-text-warning\">\n\t\t\t\t\t<i class=\"fas fa-exclamation-triangle\"></i>\n\t\t\t\t</span>\n\t\t\t\t<span>{processing.error}</span>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</Modal>\n\n\n<style>\n\t.t1 {\n\t\tpadding: 1em;\n\t}\n</style>\n","<script>\n\timport { onMount } from 'svelte';\n\timport Login from './login/index.svelte';\n\timport Main from './main/index.svelte';\n\timport {Notify} from \"@edwinspire/svelte-components\";\n\n\tlet page = 'login';\n\n//let noty = new Notifications();\n\n\tonMount(() => {\n\t\t//noty.push({message: 'Welcome'});\n\t});\n</script>\n\n<Notify></Notify>\n\n{#if page == 'main'}\n\t<Main\n\t\tonexit={() => {\n\t\t\tpage = 'login';\n\t\t}}\n\t/>\n{:else}\n\t<Login\n\t\tonlogin={(login) => {\n\t\t\tconsole.log('LOGIN', login);\n\n\t\t\tif (login) {\n\t\t\t\tpage = 'main';\n\t\t\t} else {\n\t\t\t\tpage = '?';\n\t\t\t}\n\t\t}}\n\t/>\n{/if}\n","<script>\r\n  import { OpenFusionAPIGUI } from \"@edwinspire/libopenfusionapigui\";\r\n</script>\r\n\r\n<svelte:head>\r\n  <title>OFAPI - Admin</title>\r\n  <meta name=\"description\" content=\"Open Fusion API - Admin\" />\r\n</svelte:head>\r\n\r\n<OpenFusionAPIGUI></OpenFusionAPIGUI>\r\n"],"names":["$$renderer","$.attr_class","$.stringify","$.escape","logo","$.attr"],"mappings":";;;;;;;;;;;;;AAAA,MAAA,OAAe;;wCCAf;AACO,QAAA,EAAA,OAAiB,OAAQ,UAAU,kBAA4B,MAAK,IAAA;uEAGvC,MAAI,CAAA,mEAAA;AAI7B,eAAQA,WAAA;;QAGb,iBAAe;;;;;;;;EATrB,CAAA;;ACAO,IAAI,sBAAsB,SAAS,EAAE;;wCCF5C;QAIK,cAAW,CAAA;AAEf,wBAAoB,UAAS,CAAE,UAAU;AAExC,oBAAc;AAAA,IACf,CAAC;;;;;;;;;;;;;;;;;MAmBM;AAAA;;UAAe,IAAC,WAAA,OAAA;AAChB,UAAA,CAAA,EAAE,QAAM;;AACwB,QAAAA,YAAA,KAAA,WAAAC,WAAA,uBAAAC,UAAA,EAAE,KAAK,CAAA,IAAA,eAAA,CAAA,GAAA;AACtC,YAAA,EAAE,OAAK;;AAEN,UAAAF,YAAA,KAAA,kCAAAG,YAAA,EAAE,KAAK,CAAA,0EAAA;AAAA;;;AAUc,QAAAH,YAAA,KAAA,sCAAAG,YAAA,EAAE,OAAO,CAAA,kBAAA;AAAA;;;;;;EAlBxC,CAAA;;;wCCzBA;AASK,QAAA,WAAkB;AAClB,QAAA,WAAkB;QACT,OAAM;;YAsCP;AAAA;wJAOEC,IAAI,CAAA,sQAAAC,KAAA,SAUqD,QAAQ,CAAA,4MAAAA,KAAA,SAQJ,QAAQ,CAAA,4HAAA;;;;;;;;;;;;;EA5BpF,CAAA;;;wCC9CA;;;;;;;;EAaA,CAAA;;2BCbA;;;;;;;;AAEA;","x_google_ignoreList":[0,1,2,3,4,5]}